"use strict";(self.webpackChunkyunweibao_ad=self.webpackChunkyunweibao_ad||[]).push([[8575],{3301:function(e,l,t){t.r(l),t.d(l,{default:function(){return g}}),t(4916),t(3123),t(561),t(2772);var a=t(4815),n=t(5227),i=t(714),o=t(9106),u=t(4616),r=t(7763),s=t(9672),c=t(8215),d=t(2003),m=t(6232),v=t(4348),f=t(5001),p=t(6235),h=(0,a._)("span",null,"%",-1),g={__name:"OilParam",setup:function(e){function l(){y.value=!0}function t(e){for(var l=0,t="",a=0;a<S.value.length;a++)S.value[a]==e&&(l=a+1,t=S.value[a]);W.value=l,V.value=t,y.value=!1}function g(e){console.log(e),e=e.split(";")[0].split(",").splice(1),H.value=e,W.value=e[2]-1,-1==W.value&&(W.value=0),V.value=S.value[W.value]}function b(e){-1!==e.indexOf("Success")?u.F.success(x("toast[1]")):u.F.fail(x("toast[2]"))}var x=(0,p.QT)().t,w=(0,n.iH)(x("oilParam.navTitle")),y=(0,n.iH)(!1),S=(0,n.iH)(["TUB","N08","PLUG"]),W=(0,n.iH)(1),V=(0,n.iH)(""),H=(0,n.iH)([]);return(0,a.aZ)({name:"yunweibao-Alarm"}),(0,a.bv)((function(){var e;window.callJSResult=g,window.callJSResult_Status=b,e=(0,f.Wz)("param").split("@"),v.E.ANSend(e[1])})),function(e,u){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(i.Z,{navTitle:w.value,leftArrow:!1},null,8,["navTitle"]),(0,a.Wm)((0,n.SU)(r.T),{inset:"",style:{margin:"10px"}},{default:(0,a.w5)((function(){return[(0,a.Wm)((0,n.SU)(s.g),{label:e.$t("oilParam.label[0]"),placeholder:e.$t("oilParam.placeholder[0]"),"input-align":"right",modelValue:H.value[0],"onUpdate:modelValue":u[0]||(u[0]=function(e){return H.value[0]=e}),"label-width":"200"},{button:(0,a.w5)((function(){return[h]})),_:1},8,["label","placeholder","modelValue"])]})),_:1}),(0,a.Wm)((0,n.SU)(r.T),{inset:"",style:{margin:"10px"}},{default:(0,a.w5)((function(){return[(0,a.Wm)((0,n.SU)(s.g),{label:e.$t("oilParam.label[1]"),placeholder:e.$t("oilParam.placeholder[1]"),"input-align":"right",modelValue:H.value[1],"onUpdate:modelValue":u[1]||(u[1]=function(e){return H.value[1]=e}),"label-width":"200",autosize:""},null,8,["label","placeholder","modelValue"])]})),_:1}),(0,a.Wm)((0,n.SU)(r.T),{inset:"",style:{margin:"10px"}},{default:(0,a.w5)((function(){return[(0,a.Wm)((0,n.SU)(c.b),{title:e.$t("oilParam.label[2]"),"is-link":"",value:V.value,onClick:l},null,8,["title","value"])]})),_:1}),(0,a.Wm)((0,n.SU)(r.T),{inset:"",style:{margin:"10px"}},{default:(0,a.w5)((function(){return[(0,a.Wm)((0,n.SU)(s.g),{label:e.$t("oilParam.label[3]"),placeholder:e.$t("oilParam.placeholder[2]"),"input-align":"right",modelValue:H.value[3],"onUpdate:modelValue":u[2]||(u[2]=function(e){return H.value[3]=e}),"label-width":"200",autosize:""},null,8,["label","placeholder","modelValue"])]})),_:1}),(0,a.Wm)((0,n.SU)(r.T),{inset:"",style:{margin:"10px"}},{default:(0,a.w5)((function(){return[(0,a.Wm)((0,n.SU)(s.g),{label:e.$t("oilParam.label[4]"),placeholder:e.$t("oilParam.placeholder[3]"),"input-align":"right",modelValue:H.value[4],"onUpdate:modelValue":u[3]||(u[3]=function(e){return H.value[4]=e}),"label-width":"200",autosize:""},null,8,["label","placeholder","modelValue"])]})),_:1}),(0,a.Wm)((0,n.SU)(r.T),{inset:"",style:{margin:"10px"}},{default:(0,a.w5)((function(){return[(0,a.Wm)((0,n.SU)(s.g),{label:e.$t("oilParam.label[5]"),placeholder:e.$t("oilParam.placeholder[4]"),"input-align":"right",modelValue:H.value[5],"onUpdate:modelValue":u[4]||(u[4]=function(e){return H.value[5]=e}),"label-width":"200",autosize:""},null,8,["label","placeholder","modelValue"])]})),_:1}),(0,a.Wm)((0,n.SU)(r.T),{inset:"",style:{margin:"10px"}},{default:(0,a.w5)((function(){return[(0,a.Wm)((0,n.SU)(s.g),{label:e.$t("oilParam.label[6]"),placeholder:e.$t("oilParam.placeholder[5]"),"label-width":"200","input-align":"right",modelValue:H.value[6],"onUpdate:modelValue":u[5]||(u[5]=function(e){return H.value[6]=e}),autosize:""},null,8,["label","placeholder","modelValue"])]})),_:1}),(0,a.Wm)((0,n.SU)(d.G),{round:"",show:y.value,"onUpdate:show":u[7]||(u[7]=function(e){return y.value=e}),position:"bottom"},{default:(0,a.w5)((function(){return[(0,a.Wm)((0,n.SU)(m.c),{title:e.$t("oilParam.title"),columns:S.value,onCancel:u[6]||(u[6]=function(e){return y.value=!1}),"default-index":W.value,"confirm-button-text":e.$t("picker[0]"),"cancel-button-text":e.$t("picker[1]"),onConfirm:t},null,8,["title","columns","default-index","confirm-button-text","cancel-button-text"])]})),_:1},8,["show"]),(0,a.Wm)(o.Z)],64)}}}},6232:function(e,l,t){t.d(l,{c:function(){return H}});l=t(5140);var a=t(4815),n=t(5227),i=t(6263),o=t(538),u=t(5375),r=t(2345),s=t(8405),c=t(3205),d=t(712),m=t(4685),v=t(8122),f=t(479);function p(e){if((0,f.Xq)(e)){if(Array.isArray(e))return e.map((e=>p(e)));if((0,f.Kn)(e)){const l={};return Object.keys(e).forEach((t=>{l[t]=p(e[t])})),l}}return e}var h=t(9825);const[g,b]=(0,i.do)("picker-column"),x=Symbol(g),w=e=>(0,f.Kn)(e)&&e.disabled;var y=(0,a.aZ)({name:g,props:{textKey:(0,o.ir)(String),readonly:Boolean,allowHtml:Boolean,className:o.Vg,itemHeight:(0,o.ir)(Number),defaultIndex:(0,o.qM)(0),swipeDuration:(0,o.ir)(o.Or),initialOptions:(0,o.Ce)(),visibleItemCount:(0,o.ir)(o.Or)},emits:["change"],setup(e,{emit:l,slots:t}){let i,o,u,s,v;const g=(0,n.iH)(),y=(0,n.iH)(),S=(0,n.qj)({index:e.defaultIndex,offset:0,duration:0,options:p(e.initialOptions)}),W=(0,h.o)(),V=()=>S.options.length,H=()=>e.itemHeight*(+e.visibleItemCount-1)/2,I=(t,a)=>{var n=-(t=(e=>{for(let l=e=(0,r.uZ)(e,0,V());l<V();l++)if(!w(S.options[l]))return l;for(let l=e-1;0<=l;l--)if(!w(S.options[l]))return l})(t)||0)*e.itemHeight,o=()=>{t!==S.index&&(S.index=t,a&&l("change",t))};i&&n!==S.offset?v=o:o(),S.offset=n};var P=l=>{JSON.stringify(l)!==JSON.stringify(S.options)&&(S.options=p(l),I(e.defaultIndex))};const C=l=>(0,f.Kn)(l)&&e.textKey in l?l[e.textKey]:l,U=l=>(0,r.uZ)(Math.round(-l/e.itemHeight),0,V()-1),T=()=>{i=!1,S.duration=0,v&&(v(),v=null)},$=l=>{e.readonly||(W.start(l),i&&(l=y.value,l=(l=window.getComputedStyle(l).transform).slice(7,l.length-1).split(", ")[5],l=Number(l),S.offset=Math.min(0,l-H())),o=S.offset,S.duration=0,u=Date.now(),s=o,v=null)},k=()=>{var l,t;e.readonly||(t=S.offset-s,(l=Date.now()-u)<300&&15<Math.abs(t)?(l=Math.abs(t/l),t=S.offset+l/.003*(t<0?-1:1),l=U(t),S.duration=+e.swipeDuration,I(l,!0)):(t=U(S.offset),S.duration=200,I(t,!0),setTimeout((()=>{i=!1}),0)))},O=()=>{const l={height:e.itemHeight+"px"};return S.options.map(((n,o)=>{var u=C(n),r=w(n);r={role:"button",style:l,tabindex:r?-1:0,class:b("item",{disabled:r,selected:o===S.index}),onClick:()=>{var l;l=o,i||e.readonly||(v=null,S.duration=200,I(l,!0))}},u={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:u};return(0,a.Wm)("li",r,[t.option?t.option(n):(0,a.Wm)("div",u,null)])}))};return I(S.index),(0,d.NB)(x),(0,m.F)({state:S,setIndex:I,getValue:()=>S.options[S.index],setValue:e=>{var l=S["options"];for(let t=0;t<l.length;t++)if(C(l[t])===e)return I(t)},setOptions:P,hasOptions:()=>S.options.length,stopMomentum:T}),(0,a.YP)((()=>e.initialOptions),P),(0,a.YP)((()=>e.defaultIndex),(e=>I(e))),(0,d.OR)("touchmove",(l=>{e.readonly||(W.move(l),W.isVertical()&&(i=!0,(0,c.PF)(l,!0)),S.offset=(0,r.uZ)(o+W.deltaY.value,-V()*e.itemHeight,e.itemHeight),300<(l=Date.now())-u&&(u=l,s=S.offset))}),{target:g}),()=>(0,a.Wm)("div",{ref:g,class:[b(),e.className],onTouchstartPassive:$,onTouchend:k,onTouchcancel:k},[(0,a.Wm)("ul",{ref:y,style:{transform:`translate3d(0, ${S.offset+H()}px, 0)`,transitionDuration:S.duration+"ms",transitionProperty:S.duration?"all":"none"},class:b("wrapper"),onTransitionend:T},[O()])])}});const[S,W,V]=(0,i.do)("picker");t={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,itemHeight:(0,o.SI)(44),showToolbar:o.J5,swipeDuration:(0,o.SI)(1e3),visibleItemCount:(0,o.SI)(6),cancelButtonText:String,confirmButtonText:String},i=(0,u.l7)({},t,{columns:(0,o.Ce)(),valueKey:String,defaultIndex:(0,o.SI)(0),toolbarPosition:(0,o.SQ)("top"),columnsFieldNames:Object}),u=(0,a.aZ)({name:S,props:i,emits:["confirm","cancel","change"],setup(e,{emit:l,slots:t}){const i=(0,n.iH)(!1),o=(0,n.iH)(),u=(0,n.iH)([]),f=(0,a.Fl)((()=>{var l=e["columnsFieldNames"];return{text:(null==l?void 0:l.text)||e.valueKey||"text",values:(null==l?void 0:l.values)||"values",children:(null==l?void 0:l.children)||"children"}})),{children:p,linkChildren:h}=(0,d.$E)(x),g=(h(),(0,a.Fl)((()=>(0,r.LU)(e.itemHeight)))),b=(0,a.Fl)((()=>{var l=e.columns[0];if("object"==typeof l){if(f.value.children in l)return"cascade";if(f.value.values in l)return"object"}return"plain"})),w=()=>p.map((e=>e.state.index)),S=(e,l)=>{e=p[e],e&&(e.setOptions(l),i.value=!0)},H=l=>{let t={[f.value.children]:e.columns};var a=w();for(let e=0;e<=l;e++)t=t[f.value.children][a[e]];for(;t&&t[f.value.children];)l++,S(l,t[f.value.children]),t=t[f.value.children][t.defaultIndex||0]},I=e=>p[e],P=e=>{if(e=I(e),e)return e.getValue()},C=(e,l)=>{var t=I(e);t&&(t.setValue(l),"cascade"===b.value&&H(e))},U=e=>{if(e=I(e),e)return e.state.index},T=(e,l)=>{var t=I(e);t&&(t.setIndex(l),"cascade"===b.value&&H(e))},$=()=>p.map((e=>e.getValue())),k=e=>{"plain"===b.value?l(e,P(0),U(0)):l(e,$(),w())},O=e=>{"cascade"===b.value&&H(e),"plain"===b.value?l("change",P(0),U(0)):l("change",$(),e)},N=()=>{p.forEach((e=>e.stopMomentum())),k("confirm")},_=()=>k("cancel"),B=()=>{var l;if(e.showToolbar)return l=t.toolbar||t.default,(0,a.Wm)("div",{class:W("toolbar")},[l?l():[(l=e.cancelButtonText||V("cancel"),(0,a.Wm)("button",{type:"button",class:[W("cancel"),s.e9],onClick:_},[t.cancel?t.cancel():l])),t.title?t.title():e.title?(0,a.Wm)("div",{class:[W("title"),"van-ellipsis"]},[e.title]):void 0,(l=e.confirmButtonText||V("confirm"),(0,a.Wm)("button",{type:"button",class:[W("confirm"),s.e9],onClick:N},[t.confirm?t.confirm():l]))]])},F=()=>{var l=g.value*+e.visibleItemCount,n={height:l+"px"};return(0,a.Wm)("div",{ref:o,class:W("columns"),style:n},[u.value.map(((l,n)=>{var i;return(0,a.Wm)(y,{textKey:f.value.text,readonly:e.readonly,allowHtml:e.allowHtml,className:l.className,itemHeight:g.value,defaultIndex:null!=(i=l.defaultIndex)?i:+e.defaultIndex,swipeDuration:e.swipeDuration,initialOptions:l[f.value.values],visibleItemCount:e.visibleItemCount,onChange:()=>O(n)},{option:t.option})})),(e=>{var l;if(i.value)return l={height:g.value+"px"},e={backgroundSize:`100% ${(e-g.value)/2}px`},[(0,a.Wm)("div",{class:W("mask"),style:e},null),(0,a.Wm)("div",{class:[s.pj,W("frame")],style:l},null)]})(l)])};return(0,a.YP)((()=>e.columns),(()=>{var l=e["columns"];if("plain"===b.value)u.value=[{[f.value.values]:l}];else if("cascade"===b.value){var t,a=[];let l={[f.value.children]:e.columns};for(;l&&l[f.value.children];){var n=l[f.value.children];let i=null!=(t=l.defaultIndex)?t:+e.defaultIndex;for(;n[i]&&n[i].disabled;){if(!(i<n.length-1)){i=0;break}i++}a.push({[f.value.values]:l[f.value.children],className:l.className,defaultIndex:i}),l=n[i]}u.value=a}else u.value=l;i.value=u.value.some((e=>e[f.value.values]&&0!==e[f.value.values].length))||p.some((e=>e.hasOptions))}),{immediate:!0}),(0,d.OR)("touchmove",c.PF,{target:o}),(0,m.F)({confirm:N,getValues:$,setValues:e=>{e.forEach(((e,l)=>{C(l,e)}))},getIndexes:w,setIndexes:e=>{e.forEach(((e,l)=>{T(l,e)}))},getColumnIndex:U,setColumnIndex:T,getColumnValue:P,setColumnValue:C,getColumnValues:e=>{if(e=I(e),e)return e.state.options},setColumnValues:S}),()=>{var l;return(0,a.Wm)("div",{class:W()},["top"===e.toolbarPosition?B():null,e.loading?(0,a.Wm)(v.g,{class:W("loading")},null):null,null==(l=t["columns-top"])?void 0:l.call(t),F(),null==(l=t["columns-bottom"])?void 0:l.call(t),"bottom"===e.toolbarPosition?B():null])}}});const H=(0,l.n)(u)}}]);