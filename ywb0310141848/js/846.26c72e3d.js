"use strict";(self.webpackChunkyunweibao_ad=self.webpackChunkyunweibao_ad||[]).push([[846],{4193:function(e,t,l){function n(e){return(0,u.dD)("data-v-37e7fa7a"),e=e(),(0,u.Cn)(),e}l.r(t),l.d(t,{default:function(){return E}});var a=l(9895),u=(l(9554),l(1539),l(4747),l(3710),l(9714),l(7327),l(561),l(2772),l(4916),l(3123),l(7042),l(2564),l(4815)),o=l(5227),i=l(4355),r=l(714),d=l(9106),c=l(2796),f=l(7362),s=l(4348),p=l(4616),m=l(7763),v=l(8215),g=l(9672),h=l(8375),S=l(5176),w=l(961),U=l(9823),_=l(2003),b=l(5001),W=l(6235),y={style:{display:"none"}},V=n((function(){return(0,u._)("span",null,"MV",-1)})),k=n((function(){return(0,u._)("span",null,"KG",-1)})),L={style:{"margin-top":"20px",background:"#ffffff"}},$=n((function(){return(0,u._)("span",null,"KG",-1)})),H=n((function(){return(0,u._)("span",null,"KG",-1)})),T=n((function(){return(0,u._)("footer",{style:{"padding-bottom":"50px"}},null,-1)})),E=(t={__name:"LoadSettings",setup:function(e){function t(e){J.value[1]=e[1],A.value=!1}function l(){var e=(0,a.Z)(K.value),t="";e.forEach((function(e){t+=","+e.value1+","+e.value2})),t="$WEGIHTCAL"+t,s.E.ANsendSetting(t),D.value=!D.value,F.value=!0}function n(e){var t;F.value&&((t=(0,a.Z)(N.value))[e.item[0]-1]=e.item,t.forEach((function(e){e="$UARTSET,"+e.toString(),console.log(e),s.E.ANsendSetting(e)})),e="$PREWEIGHT,"+J.value[1],s.E.ANsendSetting(e))}function E(){var e=K.value;e.filter((function(e,t,l){e.check&&l.splice(t,1)})),J.value[4]=e.length}function C(){var e=K.value;if(J.value[4]=+J.value[4]+1,15==e.length)return p.F.fail(x("LoadSettings.fail[0]")),!1;e.push({check:!1,value1:"1",value2:"1"})}var x=(0,W.QT)().t,A=(0,o.iH)(!1),I=(0,o.iH)([]),P=(0,o.iH)(0),z=(0,o.iH)(x("LoadSettings.navTitle")),G=(0,o.iH)(""),Z=(0,o.iH)(0),N=(0,o.iH)([]),R=(0,o.iH)([]),J=(0,o.iH)([]),M=(0,o.iH)([]),K=(0,o.iH)([]),D=(0,o.iH)(!0),F=(0,o.iH)(!1);function X(e){var t=K.value;0<e.length&&function(e,t){for(var l=0,n=[];l<e.length;)n.push(e.slice(l,l+=t));return n}(e,2).forEach((function(e){t.push({check:!1,value1:(0,b.yM)(e[0],2),value2:(0,b.yM)(e[1],2)})}))}function O(e){var t,l,n,a;e=e.split(";")[0];Z.value++,G.value+=e+"!",3==Z.value&&(e=G.value.split("!"),t=e[0].split(",").splice(1),l=e[1].split(",").splice(1),n=e[2].split(",").splice(1),X(n),M.value=l[0].split("*"),l[2]=Math.floor(10*l[2])/10,l[3]=Math.floor(10*l[3])/10,J.value=l,e.pop(),N.value=(a=[],t.forEach((function(e){-1!==e.indexOf("52")&&((t=e.split("~"))[1]=t[0],t[0]="52",R.value=t);var t=e.split("~");t[1]=t[1].split("*")[0],a.push(t)})),a))}function Y(e){-1!==e.indexOf("Success")?p.F.success(x("toast[1]")):p.F.fail(x("toast[2]"))}return(0,u.aZ)({name:"yunweibao-LoadSettings"}),s.E.ANSend("$UARTSET"),setTimeout((function(){s.E.ANSend("$PREWEIGHT")}),500),setTimeout((function(){s.E.ANSend("$WEGIHTCAL")}),1e3),(0,u.bv)((function(){window.callJSResult=O,window.callJSResult_Status=Y})),function(e,a){return(0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u.Wm)(r.Z,{navTitle:z.value,leftArrow:!1},null,8,["navTitle"]),(0,u._)("div",y,[(0,u.Wm)(c.Z,{loadCmdInfo:J.value,status:D.value,cmdCmdInfo:R.value,onComConfirm:n},null,8,["loadCmdInfo","status","cmdCmdInfo"])]),(0,u.Wm)((0,o.SU)(m.T),{inset:"",class:"cell-group"},{default:(0,u.w5)((function(){return[(0,u.Wm)((0,o.SU)(v.b),{title:e.$t("LoadSettings.template[0]"),"is-link":"",value:M.value[J.value[1]],onClick:a[0]||(a[0]=function(e){return t=1,A.value=!0,void(1===t&&(I.value=M.value,P.value=J.value[1]));var t})},null,8,["title","value"])]})),_:1}),(0,u.Wm)((0,o.SU)(m.T),{inset:"",class:"cell-group"},{default:(0,u.w5)((function(){return[(0,u.Wm)((0,o.SU)(g.g),{type:"tel",label:e.$t("LoadSettings.template[1]"),"label-width":"120",placeholder:e.$t("LoadSettings.templatePlaceholder[0]"),"input-align":"right",readonly:"",modelValue:J.value[2],"onUpdate:modelValue":a[1]||(a[1]=function(e){return J.value[2]=e})},{button:(0,u.w5)((function(){return[V]})),_:1},8,["label","placeholder","modelValue"])]})),_:1}),(0,u.Wm)((0,o.SU)(m.T),{inset:"",class:"cell-group"},{default:(0,u.w5)((function(){return[(0,u.Wm)((0,o.SU)(g.g),{type:"tel",label:e.$t("LoadSettings.template[2]"),"label-width":"120",placeholder:e.$t("LoadSettings.templatePlaceholder[1]"),"input-align":"right",readonly:"",modelValue:J.value[3],"onUpdate:modelValue":a[2]||(a[2]=function(e){return J.value[3]=e})},{button:(0,u.w5)((function(){return[k]})),_:1},8,["label","placeholder","modelValue"])]})),_:1}),(0,u._)("div",L,[(0,u.Wm)((0,o.SU)(h.X),null,{default:(0,u.w5)((function(){return[(0,u.Wm)((0,o.SU)(S.J),{span:"16"},{default:(0,u.w5)((function(){return[(0,u.Wm)((0,o.SU)(m.T),null,{default:(0,u.w5)((function(){return[(0,u.Wm)((0,o.SU)(g.g),{type:"tel",label:e.$t("LoadSettings.template[3]"),"label-width":"120",placeholder:e.$t("LoadSettings.templatePlaceholder[2]"),"input-align":"right",modelValue:J.value[4],"onUpdate:modelValue":a[3]||(a[3]=function(e){return J.value[4]=e}),readonly:""},null,8,["label","placeholder","modelValue"])]})),_:1})]})),_:1}),(0,u.Wm)((0,o.SU)(S.J),{span:"8"},{default:(0,u.w5)((function(){return[(0,u.Wm)((0,o.SU)(w.z),{type:"danger",size:"small",style:{"margin-right":"10px","margin-top":"6px",float:"right"},onClick:E},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,i.zw)(e.$t("LoadSettings.template[4]")),1)]})),_:1}),(0,u.Wm)((0,o.SU)(w.z),{type:"primary",size:"small",style:{float:"right","margin-top":"6px","margin-right":"10px"},onClick:C},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,i.zw)(e.$t("LoadSettings.template[5]")),1)]})),_:1})]})),_:1})]})),_:1})]),(0,u.Wm)((0,o.SU)(h.X),null,{default:(0,u.w5)((function(){return[(0,u.Wm)((0,o.SU)(S.J),{offset:"1",span:"22"},{default:(0,u.w5)((function(){return[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(K.value,(function(t,l){return(0,u.wg)(),(0,u.j4)((0,o.SU)(m.T),{style:{"margin-top":"10px"},key:l},{default:(0,u.w5)((function(){return[(0,u.Wm)((0,o.SU)(v.b),null,{title:(0,u.w5)((function(){return[(0,u.Wm)((0,o.SU)(U.X),{shape:"square",modelValue:t.check,"onUpdate:modelValue":function(e){return t.check=e}},{default:(0,u.w5)((function(){return[(0,u.Uk)((0,i.zw)(e.$t("LoadSettings.template[6]"))+" "+(0,i.zw)(l+1),1)]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:2},1024),(0,u.Wm)((0,o.SU)(g.g),{type:"tel",label:e.$t("LoadSettings.template[7]"),"label-width":"120",placeholder:e.$t("LoadSettings.templatePlaceholder[3]"),"input-align":"right",modelValue:t.value1,"onUpdate:modelValue":function(e){return t.value1=e}},{button:(0,u.w5)((function(){return[$]})),_:2},1032,["label","placeholder","modelValue","onUpdate:modelValue"]),(0,u.Wm)((0,o.SU)(g.g),{type:"tel",label:e.$t("LoadSettings.template[8]"),"label-width":"120",placeholder:e.$t("LoadSettings.templatePlaceholder[4]"),"input-align":"right",modelValue:t.value2,"onUpdate:modelValue":function(e){return t.value2=e}},{button:(0,u.w5)((function(){return[H]})),_:2},1032,["label","placeholder","modelValue","onUpdate:modelValue"])]})),_:2},1024)})),128))]})),_:1})]})),_:1}),(0,u.Wm)((0,o.SU)(_.G),{round:"",show:A.value,"onUpdate:show":a[5]||(a[5]=function(e){return A.value=e}),position:"bottom"},{default:(0,u.w5)((function(){return[(0,u.Wm)(f.Z,{columns:I.value,showPicker:A.value,defaultIndex:P.value,onConfirm:t,onCancel:a[4]||(a[4]=function(e){return A.value=!1})},null,8,["columns","showPicker","defaultIndex"])]})),_:1},8,["show"]),T,(0,u.Wm)(d.Z,{onBottomSubmit:l})],64)}}},(0,l(4831).Z)(t,[["__scopeId","data-v-37e7fa7a"]]))}}]);