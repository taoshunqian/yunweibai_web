"use strict";(self.webpackChunkyunweibao_ad=self.webpackChunkyunweibao_ad||[]).push([[6552],{7763:function(e,t,l){l.d(t,{T:function(){return u}});t=l(5140);var r=l(4815),a=l(6263),i=l(538),n=l(8405);const[o,s]=(0,a.do)("cell-group");l={title:String,inset:Boolean,border:i.J5},a=(0,r.aZ)({name:o,inheritAttrs:!1,props:l,setup(e,{slots:t,attrs:l}){const a=()=>{var a;return(0,r.Wm)("div",(0,r.dG)({class:[s({inset:e.inset}),{[n.r5]:e.border&&!e.inset}]},l),[null==(a=t.default)?void 0:a.call(t)])};return()=>e.title||t.title?(0,r.Wm)(r.HY,null,[(0,r.Wm)("div",{class:s("title",{inset:e.inset})},[t.title?t.title():e.title]),a()]):a()}});const u=(0,t.n)(a)},2619:function(e,t,l){l.d(t,{Z:function(){return v},x:function(){return d}});var r=l(4815),a=(t=l(6263),l(538)),i=l(5375),n=l(479),o=l(9852),s=l(5087);const[u,c]=(0,t.do)("cell"),d={icon:String,size:String,title:a.Or,value:a.Or,label:a.Or,center:Boolean,isLink:Boolean,border:a.J5,required:Boolean,iconPrefix:String,valueClass:a.Vg,labelClass:a.Vg,titleClass:a.Vg,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}};l=(0,i.l7)({},d,o.g2);var v=(0,r.aZ)({name:u,props:l,setup(e,{slots:t}){const l=(0,o.yj)(),a=()=>{if(t.title||(0,n.Xq)(e.title))return(0,r.Wm)("div",{class:[c("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():(0,r.Wm)("span",null,[e.title]),(()=>{if(t.label||(0,n.Xq)(e.label))return(0,r.Wm)("div",{class:[c("label"),e.labelClass]},[t.label?t.label():e.label])})()])};return()=>{var{size:i,center:o,border:u,isLink:d,required:v}=e,g=null!=(g=e.clickable)?g:d,d={center:o,required:v,clickable:g,borderless:!u};return i&&(d[i]=!!i),(0,r.Wm)("div",{class:c(d),role:g?"button":void 0,tabindex:g?0:void 0,onClick:l},[t.icon?t.icon():e.icon?(0,r.Wm)(s.J,{name:e.icon,class:c("left-icon"),classPrefix:e.iconPrefix},null):void 0,a(),(()=>{var l,a=t.value||t.default;if(a||(0,n.Xq)(e.value))return l=t.title||(0,n.Xq)(e.title),(0,r.Wm)("div",{class:[c("value",{alone:!l}),e.valueClass]},[a?a():(0,r.Wm)("span",null,[e.value])])})(),t["right-icon"]?t["right-icon"]():e.isLink?(o=e.arrowDirection?"arrow-"+e.arrowDirection:"arrow",(0,r.Wm)(s.J,{name:o,class:c("right-icon")},null)):void 0,null==(v=t.extra)?void 0:v.call(t)])}}})},8215:function(e,t,l){l.d(t,{b:function(){return r}}),t=l(5140),l=l(2619);const r=(0,t.n)(l.Z)},7299:function(e,t,l){l.d(t,{M:function(){return i}});var r=l(4815);let a=0;function i(){var e=(0,r.FN)(),{name:e="unknown"}=(null==e?void 0:e.type)||{};return e+"-"+ ++a}},9672:function(e,t,l){l.d(t,{g:function(){return C}});t=l(5140);var r=l(4815),a=l(5227),i=l(6263),n=l(538),o=l(5375),s=l(8405),u=l(479),c=l(2345),d=l(3205);function v(e){return Array.isArray(e)?!e.length:0!==e&&!e}function g(e,t){var l=t["message"];return(0,u.mf)(l)?l(e,t):l||""}function m({target:e}){e.composing=!0}function f({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function p(e){return[...e].length}var b=l(2619),h=l(712),y=l(7299),k=l(4685),W=l(5087),w=l(8215);const[x,S]=(0,i.do)("field");l={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:n.Or,formatter:Function,clearIcon:(0,n.SQ)("clear"),modelValue:(0,n.SI)(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:(0,n.SQ)("focus"),formatTrigger:(0,n.SQ)("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},i=(0,o.l7)({},b.x,l,{rows:n.Or,type:(0,n.SQ)("text"),rules:Array,autosize:[Boolean,Object],labelWidth:n.Or,labelClass:n.Vg,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}}),b=(0,r.aZ)({name:x,props:i,emits:["blur","focus","clear","keypress","click-input","end-validate","start-validate","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:l}){const i=(0,y.M)(),n=(0,a.qj)({status:"unvalidated",focused:!1,validateMessage:""}),b=(0,a.iH)(),x=(0,a.iH)(),C=(0,a.iH)(),B=(0,h.NB)(s.WN)["parent"],V=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},q=t=>(0,u.Xq)(e[t])?e[t]:B&&(0,u.Xq)(B.props[t])?B.props[t]:void 0,M=(0,r.Fl)((()=>{var t,l=q("readonly");return!(!e.clearable||l)&&(l=""!==V(),t="always"===e.clearTrigger||"focus"===e.clearTrigger&&n.focused,l&&t)})),P=(0,r.Fl)((()=>C.value&&l.input?C.value():e.modelValue)),F=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"!==n.status){let r=P["value"];var e,l;if(function(e,t){if(v(e)){if(t.required)return;if(!1===t.validateEmpty)return 1}return!(t.pattern&&!t.pattern.test(String(e)))}(r=t.formatter?t.formatter(r,t):r,t))return!t.validator||v(r)&&!1===t.validateEmpty?void 0:(e=r,l=t,new Promise((t=>{var r=l.validator(e,l);(0,u.tI)(r)?r.then(t):t(r)})).then((e=>{e&&"string"==typeof e?(n.status="failed",n.validateMessage=e):!1===e&&(n.status="failed",n.validateMessage=g(r,t))})));n.status="failed",n.validateMessage=g(r,t)}}))),Promise.resolve()),I=()=>{n.status="unvalidated",n.validateMessage=""},A=()=>t("end-validate",{status:n.status}),J=(l=e.rules)=>new Promise((r=>{I(),l?(t("start-validate"),F(l).then((()=>{"failed"===n.status?r({name:e.name,message:n.validateMessage}):(n.status="passed",r()),A()}))):r()})),O=t=>{if(B&&e.rules){var l=B.props["validateTrigger"];const r=(0,o.qo)(l).includes(t);l=e.rules.filter((e=>e.trigger?(0,o.qo)(e.trigger).includes(t):r)),l.length&&J(l)}},T=(l,r="onChange")=>{var a,i,n;a=l,n=e.maxlength,l=(0,u.Xq)(n)&&p(a)>n?(i=V())&&p(i)===+n?i:(i=+n,[...a].slice(0,i).join("")):a,"number"!==e.type&&"digit"!==e.type||(n="number"===e.type,l=(0,c.uf)(l,n,n)),e.formatter&&r===e.formatTrigger&&(l=e.formatter(l)),b.value&&b.value.value!==l&&(b.value.value=l),l!==e.modelValue&&t("update:modelValue",l)},z=e=>{e.target.composing||T(e.target.value)},E=()=>{var e;return null==(e=b.value)?void 0:e.blur()},H=()=>{var t=b.value;if("textarea"===e.type&&e.autosize&&t){var l,r=e.autosize,a=(0,d.oD)();t.style.height="auto";let i=t.scrollHeight;(0,u.Kn)(r)&&(({maxHeight:r,minHeight:l}=r),void 0!==r&&(i=Math.min(i,r)),void 0!==l&&(i=Math.max(i,l))),i&&(t.style.height=i+"px",(0,d.kn)(a))}},L=e=>{n.focused=!0,t("focus",e),(0,r.Y3)(H),q("readonly")&&E()},X=e=>{q("readonly")||(n.focused=!1,T(V(),"onBlur"),t("blur",e),O("onBlur"),(0,r.Y3)(H),(0,d.pe)())},D=e=>t("click-input",e),Y=e=>t("click-left-icon",e),Z=e=>t("click-right-icon",e),j=(0,r.Fl)((()=>"boolean"==typeof e.error?e.error:!(!B||!B.props.showError||"failed"!==n.status)||void 0)),N=(0,r.Fl)((()=>{var e=q("labelWidth");if(e)return{width:(0,c.Nn)(e)}})),Q=l=>{13===l.keyCode&&(B&&B.props.submitOnEnter||"textarea"===e.type||(0,d.PF)(l),"search"===e.type&&E()),t("keypress",l)},G=()=>e.id||i+"-input",K=()=>{return[(0,r.Wm)("div",{class:S("body")},[(o=S("control",[q("inputAlign"),{error:j.value,custom:!!l.input,"min-height":"textarea"===e.type&&!e.autosize}]),l.input?(0,r.Wm)("div",{class:o,onClick:D},[l.input()]):(o={id:G(),ref:b,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:o,disabled:q("disabled"),readonly:q("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?i+"-label":void 0,onBlur:X,onFocus:L,onInput:z,onClick:D,onChange:f,onKeypress:Q,onCompositionend:f,onCompositionstart:m},"textarea"===e.type?(0,r.Wm)("textarea",o,null):(0,r.Wm)("input",(0,r.dG)("number"===(a=e.type)?{type:"text",inputmode:"decimal"}:"digit"===a?{type:"tel",inputmode:"numeric"}:{type:a},o),null))),M.value&&(0,r.Wm)(W.J,{ref:x,name:e.clearIcon,class:S("clear")},null),(()=>{var t=l["right-icon"];if(e.rightIcon||t)return(0,r.Wm)("div",{class:S("right-icon"),onClick:Z},[t?t():(0,r.Wm)(W.J,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])})(),l.button&&(0,r.Wm)("div",{class:S("button")},[l.button()])]),(()=>{var t;if(e.showWordLimit&&e.maxlength)return t=p(V()),(0,r.Wm)("div",{class:S("word-limit")},[(0,r.Wm)("span",{class:S("word-num")},[t]),(0,r.Uk)("/"),e.maxlength])})(),B&&!1===B.props.showErrorMessage||!(a=e.errorMessage||n.validateMessage)?void 0:(o=l["error-message"],t=q("errorMessageAlign"),(0,r.Wm)("div",{class:S("error-message",t)},[o?o({message:a}):a]))];var t,a,o};return(0,k.F)({blur:E,focus:()=>{var e;return null==(e=b.value)?void 0:e.focus()},validate:J,formValue:P,resetValidation:I,getValidationStatus:()=>n.status}),(0,r.JJ)(h.F1,{customValue:C,resetValidation:I,validateWithTrigger:O}),(0,r.YP)((()=>e.modelValue),(()=>{T(V()),I(),O("onChange"),(0,r.Y3)(H)})),(0,r.bv)((()=>{T(V(),e.formatTrigger),(0,r.Y3)(H)})),(0,h.OR)("touchstart",(e=>{(0,d.PF)(e),t("update:modelValue",""),t("clear",e)}),{target:(0,r.Fl)((()=>{var e;return null==(e=x.value)?void 0:e.$el}))}),()=>{var t,a=q("disabled"),n=q("labelAlign");t=q("colon")?":":"";const o=l.label?[l.label(),t]:e.label?(0,r.Wm)("label",{id:i+"-label",for:G()},[e.label+t]):void 0,s=(()=>{var t=l["left-icon"];if(e.leftIcon||t)return(0,r.Wm)("div",{class:S("left-icon"),onClick:Y},[t?t():(0,r.Wm)(W.J,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return(0,r.Wm)(w.b,{size:e.size,icon:e.leftIcon,class:S({error:j.value,disabled:a,["label-"+n]:n}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:N.value,valueClass:S("value"),titleClass:[S("label",[n,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:s?()=>s:null,title:o?()=>o:null,value:K,extra:l.extra})}}});const C=(0,t.n)(b)}}]);