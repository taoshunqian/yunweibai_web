{"version":3,"file":"js/550.743a8343.js","mappings":"gXAkEA,MAAM,EAAEA,IAAMC,EAAAA,EAAAA,MAGRC,GAAWC,EAAAA,EAAAA,IAAIH,EAAE,sBACjBI,GAAaD,EAAAA,EAAAA,KAAI,GACjBE,GAAUF,EAAAA,EAAAA,IAAI,CAAC,MAAO,MAAO,SAC7BG,GAAmBH,EAAAA,EAAAA,IAAI,GACvBI,GAAaJ,EAAAA,EAAAA,IAAI,IACjBK,GAAUL,EAAAA,EAAAA,IAAI,IAGdM,EAAe,KACnBL,EAAWM,OAAQ,CAAnB,EAIIC,EAAaC,IACjB,IAAIC,EAAQ,EACRC,EAAO,GACX,IAAK,IAAIC,EAAI,EAAGA,EAAIV,EAAQK,MAAMM,OAAQD,IACpCV,EAAQK,MAAMK,IAAMH,IACtBC,EAAQE,EAAI,EACZD,EAAOT,EAAQK,MAAMK,IAGzBT,EAAiBI,MAAQG,EACzBN,EAAWG,MAAQI,EACnBV,EAAWM,OAAQ,CAAnB,GAIFO,EAAAA,EAAAA,IAAgB,CACdC,KAAM,oBAMR,MAAMC,EAAgBC,IACpBC,QAAQC,IAAIF,GACZ,IAAIG,EAAOH,EAAII,MAAM,KAAK,GACtBC,EAASF,EAAKC,MAAM,KAAKE,OAAO,GACpClB,EAAQE,MAAQe,EAEhBnB,EAAiBI,MAAQe,EAAO,GAAK,GACP,GAA3BnB,EAAiBI,QAClBJ,EAAiBI,MAAQ,GAE3BH,EAAWG,MAAQL,EAAQK,MAAMJ,EAAiBI,MAAlD,EAGIiB,EAAuBP,KACK,IAA5BA,EAAIQ,QAAQ,WACdC,EAAAA,EAAAA,QAAc,QAEdA,EAAAA,EAAAA,KAAW,OACZ,EAIGC,EAAmB,KACvB,IAAIC,GAAQC,EAAAA,EAAAA,IAAe,SAASR,MAAM,KAC1CS,EAAAA,EAAAA,OAAcF,EAAM,GAApB,E,OAGFG,EAAAA,EAAAA,KAAU,KACRC,OAAOhB,aAAeA,EACtBgB,OAAOR,oBAAsBA,EAC7BG,GAAkB,I,u6FCjIpB,MAAMM,EAAc,EAEpB,O","sources":["webpack://yunweibao_ad/./src/views/OilParam.vue","webpack://yunweibao_ad/./src/views/OilParam.vue?b8d9"],"sourcesContent":["<template>\r\n  <TabHeaders :navTitle=\"navTitle\" :leftArrow=\"false\" />\r\n\r\n  <CellGroup inset style=\"margin: 10px\">\r\n    <Field :label=\"$t('oilParam.label[0]')\" :placeholder=\"$t('oilParam.placeholder[0]')\" input-align=\"right\" v-model=\"oilInfo[0]\" label-width=\"200\">\r\n      <template #button>\r\n        <span>%</span>\r\n      </template></Field\r\n    >\r\n  </CellGroup>\r\n\r\n  <CellGroup inset style=\"margin: 10px\">\r\n    <Field :label=\"$t('oilParam.label[1]')\" :placeholder=\"$t('oilParam.placeholder[1]')\" input-align=\"right\" v-model=\"oilInfo[1]\" label-width=\"200\" autosize />\r\n  </CellGroup>\r\n\r\n   <CellGroup inset style=\"margin: 10px\">\r\n    <Cell :title=\"$t('oilParam.label[2]')\" is-link :value=\"deviceType\" @click=\"showPickerFn\" />\r\n  </CellGroup>\r\n\r\n  <CellGroup inset style=\"margin: 10px\">\r\n    <Field :label=\"$t('oilParam.label[3]')\" :placeholder=\"$t('oilParam.placeholder[2]')\" input-align=\"right\" v-model=\"oilInfo[3]\" label-width=\"200\" autosize />\r\n  </CellGroup>\r\n\r\n  <CellGroup inset style=\"margin: 10px\">\r\n    <Field :label=\"$t('oilParam.label[4]')\" :placeholder=\"$t('oilParam.placeholder[3]')\" input-align=\"right\" v-model=\"oilInfo[4]\" label-width=\"200\" autosize />\r\n  </CellGroup>\r\n\r\n  <CellGroup inset style=\"margin: 10px\">\r\n    <Field :label=\"$t('oilParam.label[5]')\" :placeholder=\"$t('oilParam.placeholder[4]')\" input-align=\"right\" v-model=\"oilInfo[5]\" label-width=\"200\" autosize />\r\n  </CellGroup>\r\n\r\n  <CellGroup inset style=\"margin: 10px\">\r\n    <Field\r\n      :label=\"$t('oilParam.label[6]')\"\r\n      :placeholder=\"$t('oilParam.placeholder[5]')\"\r\n      label-width=\"200\"\r\n      input-align=\"right\"\r\n      v-model=\"oilInfo[6]\"\r\n      autosize\r\n    />\r\n  </CellGroup>\r\n\r\n  <Popup round v-model:show=\"showPicker\" position=\"bottom\">\r\n    <Picker\r\n      :title=\"$t('oilParam.title')\"\r\n      :columns=\"columns\"\r\n      @cancel=\"showPicker = false\"\r\n      :default-index=\"deviceColorIndex\"\r\n      :confirm-button-text=\"$t('picker[0]')\"\r\n      :cancel-button-text=\"$t('picker[1]')\"\r\n      @confirm=\"onConfirm\"\r\n    />\r\n  </Popup>\r\n\r\n  <StickyBottom />\r\n</template>\r\n\r\n<script setup>\r\nimport TabHeaders from \"@/components/tab.vue\";\r\nimport StickyBottom from \"@/components/stickyBottom.vue\";\r\nimport { CellGroup, Cell, Toast, Field, Popup, Picker } from \"vant\"; // Checkbox\r\nimport { defineComponent, ref , onMounted } from \"vue\";\r\nimport { postAN } from \"@/utlis/AdApi\";\r\nimport { getQueryString } from \"@/utlis/QueryStr\";\r\n\r\nimport { useI18n } from \"vue-i18n\";\r\nconst { t } = useI18n();\r\n\r\n// 标题\r\nconst navTitle = ref(t('oilParam.navTitle'));\r\nconst showPicker = ref(false); // 弹出层是否显示\r\nconst columns = ref([\"TUB\", \"N08\", \"PLUG\"]);\r\nconst deviceColorIndex = ref(1);\r\nconst deviceType = ref(\"\");\r\nconst oilInfo = ref([]);\r\n// const nowCmd = ref(\"\");\r\n\r\nconst showPickerFn = () => {\r\n  showPicker.value = true;\r\n};\r\n\r\n// 弹窗确定按钮\r\nconst onConfirm = (e) => {\r\n  let index = 0;\r\n  let text = \"\";\r\n  for (var i = 0; i < columns.value.length; i++) {\r\n    if (columns.value[i] == e) {\r\n      index = i + 1;\r\n      text = columns.value[i];\r\n    }\r\n  }\r\n  deviceColorIndex.value = index;\r\n  deviceType.value = text;\r\n  showPicker.value = false;\r\n};\r\n\r\n// 命名空间\r\ndefineComponent({\r\n  name: \"yunweibao-Alarm\",\r\n});\r\n\r\n\r\n// -------------------------------------------------------------------\r\n// 安卓回调函数\r\nconst callJSResult = (str) => {\r\n  console.log(str);\r\n  var cmds = str.split(\";\")[0];\r\n  var cmdArr = cmds.split(\",\").splice(1);\r\n  oilInfo.value = cmdArr;\r\n\r\n  deviceColorIndex.value = cmdArr[2] - 1; // 读取设备颜色\r\n  if(deviceColorIndex.value == -1) {\r\n    deviceColorIndex.value = 0;\r\n  }\r\n  deviceType.value = columns.value[deviceColorIndex.value];\r\n};\r\n// 安卓成功失败回调\r\nconst callJSResult_Status = (str) => {\r\n  if (str.indexOf(\"Success\") !== -1) {\r\n    Toast.success(\"下发成功\");\r\n  } else {\r\n    Toast.fail(\"下发失败\");\r\n  }\r\n};\r\n\r\n// 向安卓发送指令\r\nconst androidStatus_fn = () => {\r\n  var param = getQueryString(\"param\").split(\"@\"); // 解析出指令\r\n  postAN.ANSend(param[1]);\r\n};\r\n\r\nonMounted(() => {\r\n  window.callJSResult = callJSResult;\r\n  window.callJSResult_Status = callJSResult_Status;\r\n  androidStatus_fn();\r\n});\r\n</script>\r\n\r\n<style>\r\n.images {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  /* background: red; */\r\n  width: 93%;\r\n  margin: auto;\r\n}\r\n</style>\r\n","import script from \"./OilParam.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OilParam.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OilParam.vue?vue&type=style&index=0&id=00c7bfe6&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["t","useI18n","navTitle","ref","showPicker","columns","deviceColorIndex","deviceType","oilInfo","showPickerFn","value","onConfirm","e","index","text","i","length","defineComponent","name","callJSResult","str","console","log","cmds","split","cmdArr","splice","callJSResult_Status","indexOf","Toast","androidStatus_fn","param","getQueryString","postAN","onMounted","window","__exports__"],"sourceRoot":""}