<template>
  <div v-if=" oilVersion >= 11 ">
    <Oil3011 />
  </div>
  <div v-else>
    <OilBefore3011 />
  </div>
</template>


<script setup>
/*
报警器 和 刷卡器 共用
*/
import OilBefore3011 from "@/components/Oil/OilBefore3011.vue";
import Oil3011 from "@/components/Oil/Oil3011.vue";
import { defineComponent, ref, onMounted } from "vue";
import { getVersion } from "@/utlis/VersionBranch"

import mixins from '@/mixins/index.js'
let {  postAN,callJSResult_Status }= mixins();

const oilVersion = ref(0);


// 命名空间
defineComponent({
  name: "yunweibao-ToilLevel",
});

// -------------------------------------------------------------------
// 安卓回调函数r
const callJSResult = (str) => {
  getVersion(str, (msg) => {
    oilVersion.value = parseInt(msg);
  })
};

// 向安卓发送指令
const androidStatus_fn = () => {
  postAN.ANSend("$WEB3VERSION");
};


onMounted(() => {
  androidStatus_fn();
  window.callJSResult = callJSResult;
  window.callJSResult_Status = callJSResult_Status;
});
</script>

<style scoped>
.cell-group {
  margin: 10px;
}
.checkbox {
  margin-top: 0px;
  margin-bottom: 15px;
}
.trInfo {
  width: 30vh;
  text-align: center;
  height: 30px;
}
</style>