{"version":3,"file":"js/src_views_phaseTwo_PTZInfo_vue-src_components_AlarmConfig_vue-src_components_Alarm_AlarmPicke-42ceee.e14c91d7.js","mappings":"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","sources":["webpack://yunweibao_ad/./src/views/phaseTwo/PTZInfo.vue","webpack://yunweibao_ad/./src/views/phaseTwo/PTZInfo.vue?8af5","webpack://yunweibao_ad/./src/views/phaseTwo/PTZInfo.vue?d3a1","webpack://yunweibao_ad/./src/views/phaseTwo/PTZInfo.vue?d85f","webpack://yunweibao_ad/./src/views/phaseTwo/PTZInfo.vue?f999"],"sourcesContent":["<template>\r\n  <TabHeaders :navTitle=\"navTitle\" :leftArrow=\"false\" :lavelMuch=\"true\" />\r\n\r\n  <AlarmConfig\r\n    :data=\"itemCmd\"\r\n    :columnShowItem=\"columnShowItem\"\r\n    @comConfirm=\"comConfirm\"\r\n    :status=\"status\"\r\n    \r\n  />\r\n\r\n  <!-- <CellGroup inset class=\"cell-group\">\r\n    <Cell title=\"选择通道\" is-link value=\"内容\" />\r\n  </CellGroup> -->\r\n\r\n  <CellGroup inset class=\"cell-group\">\r\n    <Cell\r\n      :title=\"$t('PTZInfo.template[0]')\"\r\n      is-link\r\n      :value=\"columnAgreementType[useCmd[5]]\"\r\n      @click=\"showPickerFn(1)\"\r\n    />\r\n  </CellGroup>\r\n\r\n  <CellGroup inset class=\"cell-group\">\r\n    <Field\r\n      :label=\"$t('PTZInfo.template[1]')\"\r\n      label-width=\"120\"\r\n      :placeholder=\"$t('PTZInfo.template[2]')\"\r\n      v-model=\"useCmd[6]\"\r\n      input-align=\"right\"\r\n    />\r\n  </CellGroup>\r\n\r\n  <CellGroup inset class=\"cell-group\">\r\n    <Cell\r\n      :title=\"$t('PTZInfo.template[3]')\"\r\n      is-link\r\n      :value=\"columnSteam[useCmd[7]]\"\r\n      @click=\"showPickerFn(2)\"\r\n    />\r\n  </CellGroup>\r\n\r\n  <Popup round v-model:show=\"showPicker\" position=\"bottom\">\r\n    <AlarmPicker\r\n      :columns=\"columns\"\r\n      :showPicker=\"showPicker\"\r\n      :defaultIndex=\"defaultIndex\"\r\n      @confirm=\"onConfirm\"\r\n      @cancel=\"showPicker = false\"\r\n    />\r\n  </Popup>\r\n\r\n  <StickyBottom @BottomSubmit=\"BottomSubmit\" @BottomSearch=\"BottomSearch\" />\r\n</template>\r\n\r\n\r\n<script setup>\r\n/*\r\n报警器 和 刷卡器 共用\r\n*/\r\nimport AlarmConfig from \"@/components/AlarmConfig.vue\";\r\nimport AlarmPicker from \"@/components/Alarm//AlarmPicker.vue\";\r\nimport { CellGroup, Cell, Field, Popup } from \"vant\"; // Checkbox\r\nimport { defineComponent, ref, onMounted } from \"vue\";\r\nimport { filterABtn } from \"@/utlis/QueryStr\";\r\nimport mixins from '@/mixins/index.js'\r\nlet {  t, postAN, TabHeaders,StickyBottom,useRoute,callJSResult_Status }= mixins();\r\nlet route = useRoute();\r\nconst channel = route.query.channel;\r\n\r\nconst navTitle = ref(t('PTZInfo.navTitle') + channel);\r\nconst columnAgreementType = [\"Pelco-D\", \"Pelco-p\", \"B01\", \"Samsung\"];\r\nconst columnsCheckbitsIndex = [\"78\", \"79\", \"69\"]; // 停止位\r\nconst columnSteam = [t('PTZInfo.statusValue'), \"Xon/Xoff\"];\r\nconst showPicker = ref(false);\r\nconst columns = ref([]);\r\nconst defaultIndex = ref(0);\r\nconst setValueIndex = ref(0);\r\n\r\nconst allCmd = ref([]);\r\nconst useCmd = ref([]);\r\nconst itemCmd = ref([]);\r\nconst status = ref(true); // 状态更新\r\nconst isSend = ref(false); // 是否允许设置参数\r\nconst columnShowItem = ref([t('PTZInfo.columnShowItem')]);\r\n\r\nconst BottomSearch = () => {\r\n  androidStatus_fn();\r\n  isSend.value = false;\r\n};\r\n\r\n// 弹出 picker 选择器\r\nconst showPickerFn = (num) => {\r\n  showPicker.value = true;\r\n  switch (num) {\r\n    case 1: // 协议类型\r\n      columns.value = columnAgreementType;\r\n      defaultIndex.value = useCmd.value[5];\r\n      setValueIndex.value = 1;\r\n      break;\r\n    case 2: // 流控\r\n      columns.value = columnSteam;\r\n      defaultIndex.value = useCmd.value[7];\r\n      setValueIndex.value = 2;\r\n      break;\r\n  }\r\n};\r\n\r\n// 保存\r\nconst BottomSubmit = () => {\r\n  status.value = !status.value;\r\n  isSend.value = true;\r\n};\r\n\r\n// 点击保存 激活 公共模板回调\r\nconst comConfirm = (item) => {\r\n  var ix = channel - 1;\r\n  if (isSend.value) {\r\n    var useCmdArr = [...useCmd.value];\r\n    useCmdArr.splice(1,4)\r\n    item.shift();\r\n    item[3] = columnsCheckbitsIndex.indexOf(item[3]);\r\n    useCmdArr.splice(1,0,...item);\r\n    var resCmdArr = [...allCmd.value];\r\n    resCmdArr[ix] = useCmdArr.join(\"*\");\r\n    // resCmdArr.pop();\r\n    var cmd = \"$YUNTAIPARAM,\" + resCmdArr.toString();\r\n    console.log(\"request -----------> \" + cmd);\r\n    postAN.ANsendSetting(cmd);\r\n  }\r\n};\r\n\r\n// picker 弹出层确认\r\nconst onConfirm = (items) => {\r\n  console.log(items);\r\n  if (setValueIndex.value == 1) {\r\n    useCmd.value[5] = items[1];\r\n  } else if (setValueIndex.value == 2) {\r\n    useCmd.value[7] = items[1];\r\n  }\r\n  showPicker.value = false;\r\n};\r\n\r\n// 命名空间\r\ndefineComponent({\r\n  name: \"yunweibao-PTZInfo\",\r\n});\r\n\r\n// -------------------------------------------------------------------\r\n// 安卓回调函数r\r\nconst callJSResult = (str) => {\r\n  var cmds = str.split(\";\")[0];\r\n  var cmdArr = cmds.split(\",\").splice(1);\r\n  var cmdItem = cmdArr[channel - 1].split(\"*\");\r\n  useCmd.value = cmdItem;\r\n\r\n  var item = [\r\n    t('PTZInfo.callJSResult'),\r\n    cmdItem[1],\r\n    cmdItem[2],\r\n    cmdItem[3],\r\n    filterABtn(cmdItem[4]),\r\n  ];\r\n  itemCmd.value = item;\r\n  allCmd.value = cmdArr;\r\n  console.warn(cmdItem);\r\n};\r\n\r\n// 向安卓发送指令\r\nconst androidStatus_fn = () => {\r\n // console.log(t('PTZInfo.statusValue'));\r\n  postAN.ANSend(\"$YUNTAIPARAM\");\r\n};\r\nandroidStatus_fn();\r\n\r\nonMounted(() => {\r\n  window.callJSResult = callJSResult;\r\n  window.callJSResult_Status = callJSResult_Status;\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.cell-group {\r\n  margin-top: 10px;\r\n}\r\n</style>","import script from \"./PTZInfo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PTZInfo.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PTZInfo.vue?vue&type=style&index=0&id=28dfcd5d&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\aEJ\\\\apache-tomcat-9.0.54\\\\webapps\\\\yunweibao_ad\\\\node_modules\\\\_vue-loader@17.0.0@vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-28dfcd5d\"]])\n\nexport default __exports__","export { default } from \"-!../../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-41!../../../node_modules/_vue-loader@17.0.0@vue-loader/dist/index.js??ruleSet[0].use[0]!./PTZInfo.vue?vue&type=script&setup=true&lang=js\"; export * from \"-!../../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-41!../../../node_modules/_vue-loader@17.0.0@vue-loader/dist/index.js??ruleSet[0].use[0]!./PTZInfo.vue?vue&type=script&setup=true&lang=js\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-12.use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-12.use[1]!../../../node_modules/_vue-loader@17.0.0@vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-12.use[2]!../../../node_modules/_vue-loader@17.0.0@vue-loader/dist/index.js??ruleSet[0].use[0]!./PTZInfo.vue?vue&type=style&index=0&id=28dfcd5d&scoped=true&lang=css\"","// extracted by mini-css-extract-plugin\nexport {};"],"names":["AlarmConfig","AlarmPicker","CellGroup","Cell","Field","Popup","defineComponent","ref","onMounted","filterABtn","mixins","t","postAN","TabHeaders","StickyBottom","useRoute","callJSResult_Status","route","channel","query","navTitle","columnAgreementType","columnsCheckbitsIndex","columnSteam","showPicker","columns","defaultIndex","setValueIndex","allCmd","useCmd","itemCmd","status","isSend","columnShowItem","BottomSearch","androidStatus_fn","value","showPickerFn","num","BottomSubmit","comConfirm","item","ix","useCmdArr","splice","shift","indexOf","resCmdArr","join","cmd","toString","console","log","ANsendSetting","onConfirm","items","name","callJSResult","str","cmds","split","cmdArr","cmdItem","warn","ANSend","window"],"sourceRoot":""}