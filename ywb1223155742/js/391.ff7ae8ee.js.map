{"version":3,"file":"js/391.ff7ae8ee.js","mappings":"gVAoIA,MAAM,EAAEA,IAAMC,EAAAA,EAAAA,OACR,KAAEC,IAASC,EAAAA,EAAAA,IAAO,QAGlBC,EAAaJ,EAAE,mBACfK,GAAgBC,EAAAA,EAAAA,IAAIJ,EAAKK,OACzBC,GAAUF,EAAAA,EAAAA,IAAI,IACdG,GAAUH,EAAAA,EAAAA,IAAIF,EAAWM,MAAM,MAC/BC,GAAaL,EAAAA,EAAAA,KAAI,GACjBM,GAAQN,EAAAA,EAAAA,KAAI,GACZO,GAASP,EAAAA,EAAAA,IAAI,IACbQ,GAAmBR,EAAAA,EAAAA,IAAI,GACvBS,GAAcT,EAAAA,EAAAA,IAAI,IAClBU,GAAWV,EAAAA,EAAAA,IAAIN,EAAE,qBAGjBiB,EAAe,KAEnBT,EAAQD,MAAM,GAA+B,GAA1BO,EAAiBP,MAAaO,EAAiBP,MAAQO,EAAiBP,MAAQ,EACnG,IAAIW,EAAOL,EAAON,MAAQ,IAAMC,EAAQD,MAAMY,KAAK,KAGnD,OAFAC,QAAQC,KAAK,OAAQH,GACrBI,EAAAA,EAAAA,cAAqBJ,IACd,CAAP,EAGIK,EAAe,MACnBC,EAAAA,EAAAA,GAAMxB,EAAE,aACRsB,EAAAA,EAAAA,OAAcT,EAAON,MAArB,EAIIkB,EAAa,OAEbC,EAAaC,IACjB,IAAIC,EAAQ,EACRC,EAAO,GACX,IAAK,IAAIC,EAAI,EAAGA,EAAIrB,EAAQF,MAAMwB,OAAQD,IACpCrB,EAAQF,MAAMuB,IAAMH,IAEtBC,EAAQE,EAAI,EAEZD,EAAOpB,EAAQF,MAAMuB,IAIvBhB,EAAiBP,MADN,GAATqB,EACuB,EAEAA,EAAQ,EAEnCb,EAAYR,MAAQsB,EACpBlB,EAAWJ,OAAQ,CAAnB,GAGFyB,EAAAA,EAAAA,IAAgB,CACdC,KAAM,sBAIR,MAAMC,EAAgBC,IACpB,IAAIjB,EAAOiB,EAAIzB,MAAM,KAAK,GACtB0B,EAASlB,EAAKR,MAAM,KAAK2B,OAAO,GACpCjB,QAAQC,KAAKe,GACb5B,EAAQD,MAAQ6B,EAChBtB,EAAiBP,MAAQ6B,EAAO,GAAK,EACrChB,QAAQC,KAAKP,EAAiBP,OAC1BO,EAAiBP,MAAQ,IAC3BO,EAAiBP,MAAQ,GAE3BQ,EAAYR,MAAQE,EAAQF,MAAMO,EAAiBP,OACnDa,QAAQC,KAAKZ,EAAQF,MAAM+B,WAA3B,EAGIC,EAAuBJ,IAC3Bf,QAAQC,KAAKc,IACmB,IAA5BA,EAAIK,QAAQ,WACdhB,EAAAA,EAAAA,QAAcxB,EAAE,aAEhBwB,EAAAA,EAAAA,KAAWxB,EAAE,YACd,EAIGyC,EAAmB,KACvB,IACE,IAAIC,GAAQC,EAAAA,EAAAA,IAAe,SAASjC,MAAM,KAC1CU,QAAQwB,IAAIF,GACI,OAAZA,EAAM,KACRG,eAAeC,WAAa,EAE5BlC,EAAML,OAAQ,GAEhBM,EAAON,MAAQmC,EAAM,GACrBpB,EAAAA,EAAAA,OAAcoB,EAAM,GAGrB,CAFC,MAAOf,GACPP,QAAQwB,IAAIjB,EACb,G,OAEHc,KAEAM,EAAAA,EAAAA,KAAU,KACRC,OAAOd,aAAeA,EACtBc,OAAOT,oBAAsBA,CAA7B,I,61HCtOF,MAAMU,EAAc,EAEpB,O","sources":["webpack://yunweibao_ad/./src/views/CarInfo.vue","webpack://yunweibao_ad/./src/views/CarInfo.vue?7c32"],"sourcesContent":["<template>\r\n  <TabHeaders :navTitle=\"navTitle\" :leftArrow=\"false\" />\r\n\r\n  <CellGroup inset style=\"margin: 10px\" v-show=\"International\">\r\n    <Field\r\n      :label=\"$t('carInfo.label[1]')\"\r\n      type=\"tel\"\r\n      :placeholder=\"$t('carInfo.placeholder[1]')\"\r\n      input-align=\"right\"\r\n      v-model=\"CarInfo[1]\"\r\n      autosize\r\n      maxlength=\"12\"\r\n    >\r\n    </Field>\r\n  </CellGroup>\r\n\r\n  <CellGroup inset class=\"cellGroup\" style=\"margin: 10px\">\r\n    <Field\r\n      :label=\"$t('carInfo.label[0]')\"\r\n      :placeholder=\"$t('carInfo.placeholder[0]')\"\r\n      input-align=\"right\"\r\n      v-model=\"CarInfo[0]\"\r\n      autosize\r\n    />\r\n  </CellGroup>\r\n\r\n  <CellGroup inset style=\"margin: 10px\">\r\n    <Field\r\n      :label=\"$t('carInfo.label[2]')\"\r\n      :placeholder=\"$t('carInfo.placeholder[2]')\"\r\n      :label-width=\"200\"\r\n      input-align=\"right\"\r\n      v-model=\"CarInfo[2]\"\r\n      autosize\r\n    >\r\n    </Field>\r\n  </CellGroup>\r\n\r\n  <CellGroup inset style=\"margin: 10px\" v-show=\"International\">\r\n    <Cell\r\n      :title=\"$t('carInfo.label[3]')\"\r\n      is-link\r\n      :value=\"deviceColor\"\r\n      @click=\"showPicker = true\"\r\n    />\r\n  </CellGroup>\r\n  <!-- 区域代码 -->\r\n  <CellGroup inset style=\"margin: 10px\" v-show=\"International\">\r\n    <Field\r\n      :label=\"$t('carInfo.label[4]')\"\r\n      :placeholder=\"$t('carInfo.placeholder[3]')\"\r\n      input-align=\"right\"\r\n      v-model=\"CarInfo[4]\"\r\n      autosize\r\n      maxlength=\"6\"\r\n    >\r\n    </Field>\r\n  </CellGroup>\r\n  <!-- 制造商编号 -->\r\n  <CellGroup inset style=\"margin: 10px\" v-show=\"International\">\r\n    <Field\r\n      :label=\"$t('carInfo.label[5]')\"\r\n      :placeholder=\"$t('carInfo.placeholder[4]')\"\r\n      input-align=\"right\"\r\n      v-model=\"CarInfo[5]\"\r\n      autosize\r\n      maxlength=\"11\"\r\n    >\r\n    </Field>\r\n  </CellGroup>\r\n  <!-- VIN -->\r\n  <CellGroup inset style=\"margin: 10px\" v-show=\"International\">\r\n    <Field\r\n      :label=\"$t('carInfo.label[6]')\"\r\n      :placeholder=\"$t('carInfo.placeholder[5]')\"\r\n      input-align=\"right\"\r\n      v-model=\"CarInfo[6]\"\r\n      autosize\r\n    >\r\n    </Field>\r\n  </CellGroup>\r\n  <!-- 车牌分类 -->\r\n  <CellGroup inset style=\"margin: 10px\" v-show=\"International\">\r\n    <Field\r\n      :label=\"$t('carInfo.label[7]')\"\r\n      :placeholder=\"$t('carInfo.placeholder[6]')\"\r\n      input-align=\"right\"\r\n      v-model=\"CarInfo[7]\"\r\n      autosize\r\n    >\r\n    </Field>\r\n  </CellGroup>\r\n  <!-- 发动机号 -->\r\n  <CellGroup inset style=\"margin: 10px\" v-show=\"International\">\r\n    <Field\r\n      :label=\"$t('carInfo.label[8]')\"\r\n      :placeholder=\"$t('carInfo.placeholder[7]')\"\r\n      input-align=\"right\"\r\n      v-model=\"CarInfo[8]\"\r\n      autosize\r\n    >\r\n    </Field>\r\n  </CellGroup>\r\n\r\n  <Popup round v-model:show=\"showPicker\" position=\"bottom\">\r\n    <Picker\r\n      :title=\"$t('carInfo.label[9]')\"\r\n      :columns=\"columns\"\r\n      @cancel=\"showPicker = false\"\r\n      :default-index=\"deviceColorIndex\"\r\n      :confirm-button-text=\"$t('picker[0]')\"\r\n      :cancel-button-text=\"$t('picker[1]')\"\r\n      @confirm=\"onConfirm\"\r\n    />\r\n  </Popup>\r\n\r\n  <StickyBottom\r\n    :guide=\"guide\"\r\n    @BottomSubmit=\"BottomSubmit\"\r\n    @BottomSearch=\"BottomSearch\"\r\n    @BottomNext=\"BottomNext\"\r\n  />\r\n</template>\r\n\r\n<script setup>\r\nimport TabHeaders from \"@/components/tab.vue\";\r\nimport StickyBottom from \"@/components/stickyBottom.vue\";\r\nimport { CellGroup, Field, Popup, Picker, Cell, Toast } from \"vant\"; // Checkbox\r\nimport { defineComponent, onMounted, ref, inject } from \"vue\";\r\nimport { postAN } from \"@/utlis/AdApi\";\r\nimport { getQueryString } from \"@/utlis/QueryStr\";\r\nimport { useI18n } from \"vue-i18n\";\r\nconst { t } = useI18n();\r\nconst { lang } = inject(\"lang\");\r\n\r\n// 双向绑定值\r\nconst i8nColumns = t(\"carInfo.columns\");\r\nconst International = ref(lang.value);\r\nconst CarInfo = ref([]); // 获取到的参数集合\r\nconst columns = ref(i8nColumns.split(\",\"));\r\nconst showPicker = ref(false); // 弹出层是否显示\r\nconst guide = ref(false); // 是否是向导模式\r\nconst nowCmd = ref(\"\"); // 当前使用的指令\r\nconst deviceColorIndex = ref(1);\r\nconst deviceColor = ref(\"\");\r\nconst navTitle = ref(t(\"carInfo.navTitle\")); // 标题\r\n\r\n// 保存\r\nconst BottomSubmit = () => {\r\n  \r\n  CarInfo.value[3] = deviceColorIndex.value == 9 ? deviceColorIndex.value : deviceColorIndex.value + 1;\r\n  var cmds = nowCmd.value + \",\" + CarInfo.value.join(\",\");\r\n  console.warn(\"发送数据\"+ cmds);\r\n  postAN.ANsendSetting(cmds);\r\n  return false;\r\n};\r\n// 查询\r\nconst BottomSearch = () => {\r\n  Toast(t(\"toast[0]\"));\r\n  postAN.ANSend(nowCmd.value);\r\n  //  postAN.ANSend(\"$CAMERAMODE\");\r\n};\r\n// 下一步\r\nconst BottomNext = () => {};\r\n\r\nconst onConfirm = (e) => {\r\n  let index = 0;\r\n  let text = \"\";\r\n  for (var i = 0; i < columns.value.length; i++) {\r\n    if (columns.value[i] == e) {\r\n      // eslint-disable-next-line no-unused-vars\r\n      index = i + 1;\r\n      // eslint-disable-next-line no-unused-vars\r\n      text = columns.value[i];\r\n    }\r\n  }\r\n  if (index == 8) {\r\n    deviceColorIndex.value = 9;\r\n  } else {\r\n    deviceColorIndex.value = index - 1;\r\n  }\r\n  deviceColor.value = text;\r\n  showPicker.value = false;\r\n};\r\n\r\ndefineComponent({\r\n  name: \"yunweibao-CarInfo\",\r\n});\r\n// -------------------------------------------------------------------\r\n// 安卓回调函数\r\nconst callJSResult = (str) => {\r\n  var cmds = str.split(\";\")[0];\r\n  var cmdArr = cmds.split(\",\").splice(1);\r\n  console.warn(cmdArr)\r\n  CarInfo.value = cmdArr; // 获取到的参数集合\r\n  deviceColorIndex.value = cmdArr[3] - 1; // 读取设备颜色\r\n  console.warn(deviceColorIndex.value)\r\n  if (deviceColorIndex.value > 7) {\r\n    deviceColorIndex.value = 7;\r\n  }\r\n  deviceColor.value = columns.value[deviceColorIndex.value];\r\n  console.warn(columns.value.toString());\r\n};\r\n// 安卓成功失败回调\r\nconst callJSResult_Status = (str) => {\r\n  console.warn(str);\r\n  if (str.indexOf(\"Success\") !== -1) {\r\n    Toast.success(t(\"toast[1]\"));\r\n  } else {\r\n    Toast.fail(t(\"toast[2]\"));\r\n  }\r\n};\r\n\r\n// 向安卓发送指令\r\nconst androidStatus_fn = () => {\r\n  try {\r\n    var param = getQueryString(\"param\").split(\"@\"); // 解析出指令 // .split(\"@\")\r\n    console.log(param);\r\n    if (param[7] == 10001) {\r\n      sessionStorage.guideIndex = 0;\r\n      // 向导模式\r\n      guide.value = true;\r\n    }\r\n    nowCmd.value = param[1]; // 当前使用的指令\r\n    postAN.ANSend(param[1]);\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\nandroidStatus_fn();\r\n\r\nonMounted(() => {\r\n  window.callJSResult = callJSResult;\r\n  window.callJSResult_Status = callJSResult_Status;\r\n});\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import script from \"./CarInfo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CarInfo.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["t","useI18n","lang","inject","i8nColumns","International","ref","value","CarInfo","columns","split","showPicker","guide","nowCmd","deviceColorIndex","deviceColor","navTitle","BottomSubmit","cmds","join","console","warn","postAN","BottomSearch","Toast","BottomNext","onConfirm","e","index","text","i","length","defineComponent","name","callJSResult","str","cmdArr","splice","toString","callJSResult_Status","indexOf","androidStatus_fn","param","getQueryString","log","sessionStorage","guideIndex","onMounted","window","__exports__"],"sourceRoot":""}