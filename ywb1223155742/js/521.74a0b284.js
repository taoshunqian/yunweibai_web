"use strict";(self["webpackChunkyunweibao_ad"]=self["webpackChunkyunweibao_ad"]||[]).push([[521],{4521:function(e,t,l){l.r(t),l.d(t,{default:function(){return O}});var i=l(4255),n=l(4740),s=l(6787),a=l(1201),o=l(5518),r=l(570),c=l(2634),u=l(8524),d=l(9598),v=l(3539),p=l(6312),f=l(7508);const g={style:{"margin-right":"10px","font-size":"13px"}},m={style:{margin:"0px","padding-top":"15px","font-size":"13px"}},S={style:{margin:"0px","padding-top":"15px","font-size":"13px"}},k={style:{"font-size":"13px"}},y={style:{"margin-top":"8px"}},b={style:{color:"#5fb878"}},w={style:{"margin-top":"2px"}},h={style:{color:"#5fb878"}};var x={__name:"DiskStatus",setup(e){const{t:t}=(0,f.QT)(),l=t("diskStatus.stateName"),x=t("diskStatus.diskStatusLang");let C,O=(0,n.iH)(9);const T=(0,n.iH)(t("diskStatus.navTitle")),z=(0,n.iH)(!1),W=(0,n.iH)(""),D=(0,n.iH)(!1),_=(0,n.iH)(""),A=(0,n.iH)(t("diskStatus.load")),H=(0,n.iH)([]),F=(0,n.iH)(0),N=(0,n.iH)([]),U=["withoulock","NoDisk","DiskNoformat","DiskStateError","DiskNormal"],$=e=>{z.value=!0,W.value=e,q(e),setTimeout((()=>{z.value=!1,W.value=""}),3e3)};function M(e,t){for(var l=[],i=[],n=0;n<e.length;n++){var s=e[n].split("*");i.push(s[1]),l.push(s[0])}var a=l.indexOf(t);console.warn(i);var o=x.split(",");return o[i[a]]}function P(e){let t="";const i=l.split(",");let n=U.indexOf(e);return t=-1!==n?i[n]:"--",t}(0,i.aZ)({name:"yunweibao-SettingsIP"});let B=0;function q(e){_.value=e,"SD1"==e?(v.E.ANSend("$FORMAT,2"),F.value=2):"SD2"==e?(v.E.ANSend("$FORMAT,3"),F.value=3):"HDD"==e&&(v.E.ANSend("$FORMAT,1"),F.value=1),o.F.loading({message:_.value+" "+t("diskStatus.alertMsg[1]"),forbidClick:!0,loadingType:"spinner",duration:0}),O.value=9,D.value=!0,C=setInterval((()=>{B++,30==B&&(clearInterval(C),o.F.clear()),2==O.value||0==O.value?(clearInterval(C),o.F.clear(),D.value=!1,r.V.alert({title:t("diskStatus.alert[0]"),message:_.value+" "+t("diskStatus.alertMsg["+O.value+"]"),confirmButtonText:t("diskStatus.tipsConfirm")}),J()):v.E.ANSend("$FORMATSTATUS")}),2e3)}const E=e=>{if(o.F.clear(),console.log("res ------------"+e),-1!==e.indexOf("DISKSTATUS")){var l=e.split(";")[0],i=l.split(",");return N.value=i.splice(1),!1}if(-1!==e.indexOf("FORMATSTATUS")){console.log("res ------------"+e);var n=e.split(";")[0],s=n.split(",");return O.value=s[F.value],o.F.clear(),1==D.value&&o.F.loading({message:_.value+" "+t("diskStatus.alertMsg["+O.value+"]"),forbidClick:!0,loadingType:"spinner",duration:0}),!1}if(";"==e)return!1;for(var a=e.split(";")[0],r=a.split(",").splice(1),c=[],u=0;u<r.length;u++){var d=r[u].split("*");c.push(d)}H.value=c},I=e=>{-1!==e.indexOf("Success")?o.F.success(t("toast[1]")):o.F.fail(t("toast[2]"))},J=()=>{var e=(0,p.Wz)("param").split("@");v.E.ANSend(e[1]),v.E.ANSend("$DISKSTATUS")};return(0,i.bv)((()=>{window.callJSResult=E,window.callJSResult_Status=I,J()})),(0,i.se)((()=>{clearInterval(C),o.F.clear()})),(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(a.Z,{navTitle:T.value,leftArrow:!1},null,8,["navTitle"]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(H.value,((t,l)=>((0,i.wg)(),(0,i.j4)((0,n.SU)(c.T),{inset:"",style:{margin:"10px"},class:"cellGroup",key:l},{default:(0,i.w5)((()=>[(0,i.Wm)((0,n.SU)(u.b),null,{title:(0,i.w5)((()=>[(0,i._)("label",g,(0,s.zw)(e.$t("diskStatus.title[0]"))+": "+(0,s.zw)(t[0]),1),(0,i._)("p",m,[(0,i.Uk)((0,s.zw)(e.$t("diskStatus.title[1]"))+": ",1),(0,i._)("span",{style:(0,s.j5)({color:"DiskNormal"==t[1]?"#5fb878":"red"})},(0,s.zw)(P(t[1])),5)]),(0,i._)("p",S,[(0,i.Uk)((0,s.zw)(e.$t("diskStatus.title[5]"))+": ",1),(0,i._)("span",null,(0,s.zw)(M(N.value,t[0])),1)])])),"right-icon":(0,i.w5)((()=>[(0,i._)("div",k,[(0,i._)("p",y,[(0,i.Uk)((0,s.zw)(e.$t("diskStatus.title[2]"))+": ",1),(0,i._)("span",b,(0,s.zw)(t[2]),1)]),(0,i._)("p",w,[(0,i.Uk)((0,s.zw)(e.$t("diskStatus.title[3]"))+": ",1),(0,i._)("span",h,(0,s.zw)(t[3]),1)]),(0,i.Wm)((0,n.SU)(d.z),{type:"primary",size:"small",style:{float:"right"},onClick:e=>$(t[0]),"loading-text":A.value,disabled:z.value,loading:W.value==t[0]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.$t("diskStatus.title[4]")),1)])),_:2},1032,["onClick","loading-text","disabled","loading"])])])),_:2},1024)])),_:2},1024)))),128))],64))}};const C=x;var O=C},2634:function(e,t,l){l.d(t,{T:function(){return v}});var i=l(5387),n=l(4255),s=l(8314),a=l(8030),o=l(2810);const[r,c]=(0,s["do"])("cell-group"),u={title:String,inset:Boolean,border:a.J5};var d=(0,n.aZ)({name:r,inheritAttrs:!1,props:u,setup(e,{slots:t,attrs:l}){const i=()=>{var i;return(0,n.Wm)("div",(0,n.dG)({class:[c({inset:e.inset}),{[o.r5]:e.border&&!e.inset}]},l),[null==(i=t.default)?void 0:i.call(t)])},s=()=>(0,n.Wm)("div",{class:c("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?(0,n.Wm)(n.HY,null,[s(),i()]):i()}});const v=(0,i.n)(d)},8597:function(e,t,l){l.d(t,{Z:function(){return f},x:function(){return v}});var i=l(4255),n=l(8314),s=l(8030),a=l(8577),o=l(61),r=l(6549),c=l(5400);const[u,d]=(0,n["do"])("cell"),v={icon:String,size:String,title:s.Or,value:s.Or,label:s.Or,center:Boolean,isLink:Boolean,border:s.J5,required:Boolean,iconPrefix:String,valueClass:s.Vg,labelClass:s.Vg,titleClass:s.Vg,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},p=(0,a.l7)({},v,r.g2);var f=(0,i.aZ)({name:u,props:p,setup(e,{slots:t}){const l=(0,r.yj)(),n=()=>{const l=t.label||(0,o.Xq)(e.label);if(l)return(0,i.Wm)("div",{class:[d("label"),e.labelClass]},[t.label?t.label():e.label])},s=()=>{if(t.title||(0,o.Xq)(e.title))return(0,i.Wm)("div",{class:[d("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():(0,i.Wm)("span",null,[e.title]),n()])},a=()=>{const l=t.value||t.default,n=l||(0,o.Xq)(e.value);if(n){const n=t.title||(0,o.Xq)(e.title);return(0,i.Wm)("div",{class:[d("value",{alone:!n}),e.valueClass]},[l?l():(0,i.Wm)("span",null,[e.value])])}},u=()=>t.icon?t.icon():e.icon?(0,i.Wm)(c.J,{name:e.icon,class:d("left-icon"),classPrefix:e.iconPrefix},null):void 0,v=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const t=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return(0,i.Wm)(c.J,{name:t,class:d("right-icon")},null)}};return()=>{var n,o;const{size:r,center:c,border:p,isLink:f,required:g}=e,m=null!=(n=e.clickable)?n:f,S={center:c,required:g,clickable:m,borderless:!p};return r&&(S[r]=!!r),(0,i.Wm)("div",{class:d(S),role:m?"button":void 0,tabindex:m?0:void 0,onClick:l},[u(),s(),a(),v(),null==(o=t.extra)?void 0:o.call(t)])}}})},8524:function(e,t,l){l.d(t,{b:function(){return s}});var i=l(5387),n=l(8597);const s=(0,i.n)(n.Z)},5518:function(e,t,l){l.d(t,{F:function(){return D}});var i=l(4255),n=l(4740),s=l(8577),a=l(61),o=l(5387),r=l(389),c=l(8314),u=l(8030);let d=0;function v(e){e?(d||document.body.classList.add("van-toast--unclickable"),d++):d&&(d--,d||document.body.classList.remove("van-toast--unclickable"))}var p=l(5400),f=l(1374),g=l(4645);const[m,S]=(0,c["do"])("toast"),k=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],y={icon:String,show:Boolean,type:(0,u.SQ)("text"),overlay:Boolean,message:u.Or,iconSize:u.Or,duration:(0,u.qM)(2e3),position:(0,u.SQ)("middle"),teleport:[String,Object],className:u.Vg,iconPrefix:String,transition:(0,u.SQ)("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:u.Vg,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var b=(0,i.aZ)({name:m,props:y,emits:["update:show"],setup(e,{emit:t}){let l,n=!1;const o=()=>{const t=e.show&&e.forbidClick;n!==t&&(n=t,v(n))},r=e=>t("update:show",e),c=()=>{e.closeOnClick&&r(!1)},u=()=>clearTimeout(l),d=()=>{const{icon:t,type:l,iconSize:n,iconPrefix:s,loadingType:a}=e,o=t||"success"===l||"fail"===l;return o?(0,i.Wm)(p.J,{name:t||l,size:n,class:S("icon"),classPrefix:s},null):"loading"===l?(0,i.Wm)(g.g,{class:S("loading"),size:n,type:a},null):void 0},m=()=>{const{type:t,message:l}=e;if((0,a.Xq)(l)&&""!==l)return"html"===t?(0,i.Wm)("div",{key:0,class:S("text"),innerHTML:String(l)},null):(0,i.Wm)("div",{class:S("text")},[l])};return(0,i.YP)((()=>[e.show,e.forbidClick]),o),(0,i.YP)((()=>[e.show,e.type,e.message,e.duration]),(()=>{u(),e.show&&e.duration>0&&(l=setTimeout((()=>{r(!1)}),e.duration))})),(0,i.bv)(o),(0,i.Ah)(o),()=>(0,i.Wm)(f.G,(0,i.dG)({class:[S([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:c,onClosed:u,"onUpdate:show":r},(0,s.ei)(e,k)),{default:()=>[d(),m()]})}});const w={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let h=[],x=!1,C=(0,s.l7)({},w);const O=new Map;function T(e){return(0,a.Kn)(e)?e:{message:e}}function z(){const{instance:e,unmount:t}=(0,r.H)({setup(){const l=(0,n.iH)(""),{open:s,state:a,close:o,toggle:c}=(0,r.o)(),u=()=>{x&&(h=h.filter((t=>t!==e)),t())},d=()=>{const e={onClosed:u,"onUpdate:show":c};return(0,i.Wm)(b,(0,i.dG)(a,e),null)};return(0,i.YP)(l,(e=>{a.message=e})),(0,i.FN)().render=d,{open:s,clear:o,message:l}}});return e}function W(){if(!h.length||x){const e=z();h.push(e)}return h[h.length-1]}function D(e={}){if(!s._f)return{};const t=W(),l=T(e);return t.open((0,s.l7)({},C,O.get(l.type||C.type),l)),t}const _=e=>t=>D((0,s.l7)({type:e},T(t)));function A(e,t){"string"===typeof e?O.set(e,t):(0,s.l7)(C,e)}D.loading=_("loading"),D.success=_("success"),D.fail=_("fail"),D.clear=e=>{var t;h.length&&(e?(h.forEach((e=>{e.clear()})),h=[]):x?null==(t=h.shift())||t.clear():h[0].clear())},D.setDefaultOptions=A,D.resetDefaultOptions=e=>{"string"===typeof e?O.delete(e):(C=(0,s.l7)({},w),O.clear())},D.allowMultiple=(e=!0)=>{x=e},D.install=e=>{e.use((0,o.n)(b)),e.config.globalProperties.$toast=D}}}]);
//# sourceMappingURL=521.74a0b284.js.map