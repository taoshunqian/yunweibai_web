"use strict";(self["webpackChunkyunweibao_ad"]=self["webpackChunkyunweibao_ad"]||[]).push([[914],{2634:function(e,t,l){l.d(t,{T:function(){return g}});var r=l(5387),n=l(4255),a=l(8314),i=l(8030),o=l(2810);const[s,u]=(0,a["do"])("cell-group"),c={title:String,inset:Boolean,border:i.J5};var d=(0,n.aZ)({name:s,inheritAttrs:!1,props:c,setup(e,{slots:t,attrs:l}){const r=()=>{var r;return(0,n.Wm)("div",(0,n.dG)({class:[u({inset:e.inset}),{[o.r5]:e.border&&!e.inset}]},l),[null==(r=t.default)?void 0:r.call(t)])},a=()=>(0,n.Wm)("div",{class:u("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?(0,n.Wm)(n.HY,null,[a(),r()]):r()}});const g=(0,r.n)(d)},8597:function(e,t,l){l.d(t,{Z:function(){return m},x:function(){return g}});var r=l(4255),n=l(8314),a=l(8030),i=l(8577),o=l(61),s=l(6549),u=l(5400);const[c,d]=(0,n["do"])("cell"),g={icon:String,size:String,title:a.Or,value:a.Or,label:a.Or,center:Boolean,isLink:Boolean,border:a.J5,required:Boolean,iconPrefix:String,valueClass:a.Vg,labelClass:a.Vg,titleClass:a.Vg,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},f=(0,i.l7)({},g,s.g2);var m=(0,r.aZ)({name:c,props:f,setup(e,{slots:t}){const l=(0,s.yj)(),n=()=>{const l=t.label||(0,o.Xq)(e.label);if(l)return(0,r.Wm)("div",{class:[d("label"),e.labelClass]},[t.label?t.label():e.label])},a=()=>{if(t.title||(0,o.Xq)(e.title))return(0,r.Wm)("div",{class:[d("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():(0,r.Wm)("span",null,[e.title]),n()])},i=()=>{const l=t.value||t.default,n=l||(0,o.Xq)(e.value);if(n){const n=t.title||(0,o.Xq)(e.title);return(0,r.Wm)("div",{class:[d("value",{alone:!n}),e.valueClass]},[l?l():(0,r.Wm)("span",null,[e.value])])}},c=()=>t.icon?t.icon():e.icon?(0,r.Wm)(u.J,{name:e.icon,class:d("left-icon"),classPrefix:e.iconPrefix},null):void 0,g=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const t=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return(0,r.Wm)(u.J,{name:t,class:d("right-icon")},null)}};return()=>{var n,o;const{size:s,center:u,border:f,isLink:m,required:v}=e,p=null!=(n=e.clickable)?n:m,b={center:u,required:v,clickable:p,borderless:!f};return s&&(b[s]=!!s),(0,r.Wm)("div",{class:d(b),role:p?"button":void 0,tabindex:p?0:void 0,onClick:l},[c(),a(),i(),g(),null==(o=t.extra)?void 0:o.call(t)])}}})},8524:function(e,t,l){l.d(t,{b:function(){return a}});var r=l(5387),n=l(8597);const a=(0,r.n)(n.Z)},4295:function(e,t,l){l.d(t,{g:function(){return O}});var r=l(5387),n=l(4255),a=l(4740),i=l(8314),o=l(8030),s=l(8577),u=l(2810),c=l(61),d=l(4089),g=l(7866);function f(e){return Array.isArray(e)?!e.length:0!==e&&!e}function m(e,t){if(f(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function v(e,t){return new Promise((l=>{const r=t.validator(e,t);(0,c.tI)(r)?r.then(l):l(r)}))}function p(e,t){const{message:l}=t;return(0,c.mf)(l)?l(e,t):l||""}function b({target:e}){e.composing=!0}function h({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function y(e,t){const l=(0,g.oD)();e.style.height="auto";let r=e.scrollHeight;if((0,c.Kn)(t)){const{maxHeight:e,minHeight:l}=t;void 0!==e&&(r=Math.min(r,e)),void 0!==l&&(r=Math.max(r,l))}r&&(e.style.height=`${r}px`,(0,g.kn)(l))}function k(e){return"number"===e?{type:"text",inputmode:"decimal"}:"digit"===e?{type:"tel",inputmode:"numeric"}:{type:e}}function W(e){return[...e].length}function w(e,t){return[...e].slice(0,t).join("")}var x=l(8597),S=l(5290);let C=0;function B(){const e=(0,n.FN)(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++C}`}var V=l(7044),q=l(5400),M=l(8524);const[P,F]=(0,i["do"])("field"),I={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:o.Or,formatter:Function,clearIcon:(0,o.SQ)("clear"),modelValue:(0,o.SI)(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:(0,o.SQ)("focus"),formatTrigger:(0,o.SQ)("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},A=(0,s.l7)({},x.x,I,{rows:o.Or,type:(0,o.SQ)("text"),rules:Array,autosize:[Boolean,Object],labelWidth:o.Or,labelClass:o.Vg,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var J=(0,n.aZ)({name:P,props:A,emits:["blur","focus","clear","keypress","click-input","end-validate","start-validate","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:l}){const r=B(),i=(0,a.qj)({status:"unvalidated",focused:!1,validateMessage:""}),o=(0,a.iH)(),x=(0,a.iH)(),C=(0,a.iH)(),{parent:P}=(0,S.NB)(u.WN),I=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},A=t=>(0,c.Xq)(e[t])?e[t]:P&&(0,c.Xq)(P.props[t])?P.props[t]:void 0,J=(0,n.Fl)((()=>{const t=A("readonly");if(e.clearable&&!t){const t=""!==I(),l="always"===e.clearTrigger||"focus"===e.clearTrigger&&i.focused;return t&&l}return!1})),O=(0,n.Fl)((()=>C.value&&l.input?C.value():e.modelValue)),T=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===i.status)return;let{value:e}=O;if(t.formatter&&(e=t.formatter(e,t)),!m(e,t))return i.status="failed",void(i.validateMessage=p(e,t));if(t.validator){if(f(e)&&!1===t.validateEmpty)return;return v(e,t).then((l=>{l&&"string"===typeof l?(i.status="failed",i.validateMessage=l):!1===l&&(i.status="failed",i.validateMessage=p(e,t))}))}}))),Promise.resolve()),$=()=>{i.status="unvalidated",i.validateMessage=""},z=()=>t("end-validate",{status:i.status}),E=(l=e.rules)=>new Promise((r=>{$(),l?(t("start-validate"),T(l).then((()=>{"failed"===i.status?(r({name:e.name,message:i.validateMessage}),z()):(i.status="passed",r(),z())}))):r()})),H=t=>{if(P&&e.rules){const{validateTrigger:l}=P.props,r=(0,s.qo)(l).includes(t),n=e.rules.filter((e=>e.trigger?(0,s.qo)(e.trigger).includes(t):r));n.length&&E(n)}},L=t=>{const{maxlength:l}=e;if((0,c.Xq)(l)&&W(t)>l){const e=I();return e&&W(e)===+l?e:w(t,+l)}return t},X=(l,r="onChange")=>{if(l=L(l),"number"===e.type||"digit"===e.type){const t="number"===e.type;l=(0,d.uf)(l,t,t)}e.formatter&&r===e.formatTrigger&&(l=e.formatter(l)),o.value&&o.value.value!==l&&(o.value.value=l),l!==e.modelValue&&t("update:modelValue",l)},D=e=>{e.target.composing||X(e.target.value)},Y=()=>{var e;return null==(e=o.value)?void 0:e.blur()},Z=()=>{var e;return null==(e=o.value)?void 0:e.focus()},j=()=>{const t=o.value;"textarea"===e.type&&e.autosize&&t&&y(t,e.autosize)},N=e=>{i.focused=!0,t("focus",e),(0,n.Y3)(j),A("readonly")&&Y()},Q=e=>{A("readonly")||(i.focused=!1,X(I(),"onBlur"),t("blur",e),H("onBlur"),(0,n.Y3)(j),(0,g.pe)())},G=e=>t("click-input",e),K=e=>t("click-left-icon",e),_=e=>t("click-right-icon",e),R=e=>{(0,g.PF)(e),t("update:modelValue",""),t("clear",e)},U=(0,n.Fl)((()=>"boolean"===typeof e.error?e.error:!(!P||!P.props.showError||"failed"!==i.status)||void 0)),ee=(0,n.Fl)((()=>{const e=A("labelWidth");if(e)return{width:(0,d.Nn)(e)}})),te=l=>{const r=13;if(l.keyCode===r){const t=P&&P.props.submitOnEnter;t||"textarea"===e.type||(0,g.PF)(l),"search"===e.type&&Y()}t("keypress",l)},le=()=>e.id||`${r}-input`,re=()=>i.status,ne=()=>{const t=F("control",[A("inputAlign"),{error:U.value,custom:!!l.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(l.input)return(0,n.Wm)("div",{class:t,onClick:G},[l.input()]);const a={id:le(),ref:o,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:A("disabled"),readonly:A("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${r}-label`:void 0,onBlur:Q,onFocus:N,onInput:D,onClick:G,onChange:h,onKeypress:te,onCompositionend:h,onCompositionstart:b};return"textarea"===e.type?(0,n.Wm)("textarea",a,null):(0,n.Wm)("input",(0,n.dG)(k(e.type),a),null)},ae=()=>{const t=l["left-icon"];if(e.leftIcon||t)return(0,n.Wm)("div",{class:F("left-icon"),onClick:K},[t?t():(0,n.Wm)(q.J,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},ie=()=>{const t=l["right-icon"];if(e.rightIcon||t)return(0,n.Wm)("div",{class:F("right-icon"),onClick:_},[t?t():(0,n.Wm)(q.J,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},oe=()=>{if(e.showWordLimit&&e.maxlength){const t=W(I());return(0,n.Wm)("div",{class:F("word-limit")},[(0,n.Wm)("span",{class:F("word-num")},[t]),(0,n.Uk)("/"),e.maxlength])}},se=()=>{if(P&&!1===P.props.showErrorMessage)return;const t=e.errorMessage||i.validateMessage;if(t){const e=l["error-message"],r=A("errorMessageAlign");return(0,n.Wm)("div",{class:F("error-message",r)},[e?e({message:t}):t])}},ue=()=>{const t=A("colon")?":":"";return l.label?[l.label(),t]:e.label?(0,n.Wm)("label",{id:`${r}-label`,for:le()},[e.label+t]):void 0},ce=()=>[(0,n.Wm)("div",{class:F("body")},[ne(),J.value&&(0,n.Wm)(q.J,{ref:x,name:e.clearIcon,class:F("clear")},null),ie(),l.button&&(0,n.Wm)("div",{class:F("button")},[l.button()])]),oe(),se()];return(0,V.F)({blur:Y,focus:Z,validate:E,formValue:O,resetValidation:$,getValidationStatus:re}),(0,n.JJ)(S.F1,{customValue:C,resetValidation:$,validateWithTrigger:H}),(0,n.YP)((()=>e.modelValue),(()=>{X(I()),$(),H("onChange"),(0,n.Y3)(j)})),(0,n.bv)((()=>{X(I(),e.formatTrigger),(0,n.Y3)(j)})),(0,S.OR)("touchstart",R,{target:(0,n.Fl)((()=>{var e;return null==(e=x.value)?void 0:e.$el}))}),()=>{const t=A("disabled"),r=A("labelAlign"),a=ue(),i=ae();return(0,n.Wm)(M.b,{size:e.size,icon:e.leftIcon,class:F({error:U.value,disabled:t,[`label-${r}`]:r}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:ee.value,valueClass:F("value"),titleClass:[F("label",[r,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:i?()=>i:null,title:a?()=>a:null,value:ce,extra:l.extra})}}});const O=(0,r.n)(J)}}]);
//# sourceMappingURL=914.655486b2.js.map